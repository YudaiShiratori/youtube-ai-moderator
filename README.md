# YouTube AI Moderator

YouTubeライブ配信・動画のコメントをAIベースでリアルタイムにフィルタリングするChrome拡張機能

## 概要

配信者・視聴体験を損ねるコメント（ネタバレ・匂わせ・鳩行為・指示厨）をリアルタイムに判定し、ぼかし表示でフィルタリングします。

## 機能

- **4つのカテゴリ判定**
  - **ネタバレ**: 作品の核心事実を断定的に述べるコメント
  - **匂わせ**: 未来の展開を示唆するコメント  
  - **鳩行為**: 他の配信の情報を持ち込むコメント
  - **指示厨**: 配信者に命令するコメント

- **スマート検出**
  - 文の意味による判定（単語マッチだけではない）
  - スコアリングシステムによる精密な判定
  - 推量表現・否定文・引用の考慮

- **ユーザー体験**
  - ぼかし表示（完全非表示ではない）
  - クリックでぼかし解除/再適用
  - ライブチャット・アーカイブ対応
  - NGキーワード/NGユーザー設定

- **プライバシー重視**
  - 完全ローカル処理（外部通信なし）
  - ブラウザ内で全て完結

## インストール

### 開発環境
```bash
# 依存関係のインストール
bun install

# 開発サーバー起動
bun dev

# 拡張機能のビルド
bun run --filter @youtube-ai-moderator/extension build
```

### Chrome拡張機能として読み込み
1. Chrome の拡張機能管理ページ（`chrome://extensions/`）を開く
2. 「デベロッパーモード」を有効化
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `apps/extension/.output/chrome-mv3` フォルダを選択

## 判定ロジック

### ネタバレ検出
命題性をスコア化して判定：
- 対象特定（主人公、ボス等）+2点
- 出来事明示（死ぬ、勝つ等）+2点  
- 同一性命題（AはB）+3点
- 時点特定（12:34等）+1点
- 推量表現で減点

5点以上でブロック、3-4点で保留

### その他カテゴリ
- **匂わせ**: 示唆語（「このあと」「くるぞ」等）の検出
- **鳩行為**: 他枠参照 + 伝達動詞の組み合わせ
- **指示厨**: 命令表現 + 操作語彙の組み合わせ

## 技術仕様

- **フレームワーク**: WXT (Web Extension Framework)
- **言語**: TypeScript
- **ビルドツール**: Vite + Turborepo
- **パッケージマネージャー**: Bun

## プロジェクト構成

```
youtube-ai-moderator/
├── apps/
│   └── extension/     # Chrome拡張機能
├── packages/         # 共有パッケージ
└── .github/         # CI/CD
```

