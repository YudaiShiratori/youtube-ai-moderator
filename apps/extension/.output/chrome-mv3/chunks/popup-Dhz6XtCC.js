import{c as h,j as e,r as n,s as o}from"./storage-cgBRVFaC.js";import{b as u}from"./index-CqD1M3E3.js";import"./_virtual_wxt-plugins-CDnz5Vh6.js";function x(){const[s,l]=n.useState(null),[r,t]=n.useState(!0);n.useEffect(()=>{i()},[]);const i=async()=>{try{const a=await o.getSettings();l(a)}catch(a){console.error("設定の読み込みに失敗しました",a)}finally{t(!1)}},d=async()=>{if(!s)return;const a={...s,enabled:!s.enabled};await o.saveSettings(a),l(a)},m=()=>{u.runtime.sendMessage({type:"OPEN_OPTIONS"}),window.close()};return r?e.jsx("div",{className:"popup",children:e.jsx("div",{className:"loading",children:"読み込み中..."})}):e.jsxs("div",{className:"popup",children:[e.jsx("header",{className:"header",children:e.jsx("h1",{children:"YouTube AI Moderator"})}),e.jsxs("main",{className:"main",children:[e.jsxs("div",{className:"status",children:[e.jsx("span",{className:"status-label",children:"フィルター状態:"}),e.jsx("span",{className:`status-value ${s!=null&&s.enabled?"enabled":"disabled"}`,children:s!=null&&s.enabled?"有効":"無効"})]}),e.jsx("div",{className:"toggle-section",children:e.jsx("button",{className:`toggle-button ${s!=null&&s.enabled?"active":""}`,onClick:d,children:s!=null&&s.enabled?"フィルターを無効にする":"フィルターを有効にする"})}),e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"表示モード:"}),e.jsx("span",{className:"info-value",children:(s==null?void 0:s.displayMode)==="hide"?"非表示":"ぼかし"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"info-label",children:"検出モード:"}),e.jsx("span",{className:"info-value",children:"厳格モード（1ヒット即ブロック）"})]})]}),e.jsx("button",{className:"settings-button",onClick:m,children:"詳細設定を開く"})]}),e.jsx("footer",{className:"footer",children:e.jsx("div",{className:"version",children:"v1.0.0"})})]})}const c=document.getElementById("root");c&&h(c).render(e.jsx(x,{}));
